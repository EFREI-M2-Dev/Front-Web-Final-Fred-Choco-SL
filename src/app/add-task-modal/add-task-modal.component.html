<div class="project-modal">
  <div class="modal">
    <form [formGroup]="addForm" (ngSubmit)="onSubmit()">
      <div class="logo">
        <span>Ajouter une tâche</span>
      </div>
      <div>
        <p *ngIf="currentProject">Projet : {{ currentProject.name }}</p>
        <p *ngIf="status">Statut : {{ status.name }}</p>
      </div>
      <mat-form-field class="input">
        <mat-label>Nom de la tâche</mat-label>
        <input
          matInput
          type="text"
          formControlName="name"
          placeholder="Nom de la tâche"
        />
        @if (addForm?.get('name')?.invalid && addForm?.get('name')?.touched) {
          <mat-error>Le nom est requis et doit faire au moins 3 caractères.</mat-error>
        }
      </mat-form-field>
      <mat-form-field class="input">
        <mat-label>Description (facultatif)</mat-label>
        <input
          matInput
          type="text"
          formControlName="description"
          placeholder="Description (facultatif)"
        />
      </mat-form-field>
      <div class="buttons">
        <button mat-stroked-button type="button" class="cancel-btn" (click)="onCancel()">
          Annuler
        </button>
        <button mat-flat-button type="submit" [disabled]="addForm.invalid">
          <mat-icon>add</mat-icon>
          <span>Ajouter</span>
        </button>
      </div>
    </form>
  </div>
</div>
